\chapter{Implementation}
\label{cap:cap04}

This chapter covers the BNG software switch gives details about the implementation of the most important BNG software switchS features.

*Implementation of an Macsad switch depends on the platform for which it is designed. Unlike hardware, software implementations offer greater flexibility in the implementation of its features. %In environments where high throughput is not the biggest concern, software switches running on commodity servers can be a low cost replacement option for traditional network switches.

In this section we discuss how we implemented the the required BNG software switch features adding several changes to the base switch - using C, the switch native programming language, in order to support all features and keep it as simple as possible. The next subsections describe this new functionalities in the context of the architecture of the software switch presented in chapter \ref{cap:cap03}.

\subsection{Set Valid/Invalid functions}
\label{sec:sec41}

The software switch architecture add SetValid/SetInvalid functions, in order to add/remove a header from the packet...  

This header struct contains two members, which are the message type information... 

 

%


To call this function we have added a python routine, in order to compile the P4 code correctly.

\begin{lstlisting}[caption={Add header/ Remove header base functions}, label=msgpackunpack,]
add_header(packet_descriptor_t* p, header_reference_t h)

remove_header(packet_descriptor_t* p, header_reference_t h)
\end{lstlisting}


\subsection{Drop functions}


\subsection{BNG UL/DL Controller }





 